{% extends "_base.html" %}

{% block title %}{% if rel_path %}
Image Browser - {{ rel_path }}
{% else %}
Image Browser - (Root)
{% endif %}{% endblock %}

{% block body %}

<h2>
{% if rel_path %}
{{ rel_path }}
{% else %}
(Root)
{% endif %}
</h2>

{% if directories %}
<div id="directories" class="images" style="margin-bottom: 100px; height: 100px">
    {% for entry in directories %}
    <div class="thumbnail directory" style="float: left; border: 2px solid red; ">
        {% if rel_path %}
        <a href="/image/browse?path={{ rel_path }}/{{ entry.filename }}">
            <img src="/api/thumbnail/download?rel_filepath={{ entry.rel_filepath }}" />
        </a>
        {% else %}
        <a href="/image/browse?path={{ entry.filename }}">
            <img src="/api/thumbnail/download?rel_filepath={{ entry.rel_filepath }}" />
        </a>
        {% endif %}
    </div>
    {% endfor %}

    <div style="clear: both; " />
</div>
{% endif %}

{% if files %}
<div id="files" class="images">
    {% for entry in files %}
    <div class="thumbnail file" float="left" style="float: left; border: 2px solid black; ">
        <a href="/api/image/download?rel_filepath={{ entry.rel_filepath }}" target="_blank">
            <img src="/api/thumbnail/download?rel_filepath={{ entry.rel_filepath }}" />
        </a>
    </div>
    {% endfor %}

    <div style="clear: both; " />
</div>
{% endif %}

{% endblock %}
